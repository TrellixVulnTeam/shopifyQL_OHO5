import { App, Identifiers, UuidOnlyIdentifiers } from '../models/app/app.js';
import { OrganizationApp } from '../models/organization.js';
import { error as kitError, dependency } from '@shopify/cli-kit';
export declare const InvalidApiKeyError: (apiKey: string) => kitError.Abort;
export declare const DeployAppNotFound: (apiKey: string, dependencyManager: dependency.DependencyManager) => kitError.Abort;
export declare const AppOrganizationNotFoundError: (apiKey: string, organizations: string[]) => kitError.Abort;
export interface DevEnvironmentOptions {
    app: App;
    apiKey?: string;
    storeFqdn?: string;
    reset: boolean;
}
interface DevEnvironmentOutput {
    app: Omit<OrganizationApp, 'apiSecretKeys' | 'apiKey'> & {
        apiSecret?: string;
    };
    storeFqdn: string;
    identifiers: UuidOnlyIdentifiers;
}
/**
 * Make sure there is a valid environment to execute `dev`
 * That means we have a valid organization, app and dev store selected.
 *
 * If there are app/store from flags, we check if they are valid. If they are not, throw an error.
 * If there is cached info (user ran `dev` previously), check if it is still valid and return it.
 * If there is no cached info (or is invalid):
 *  - Show prompts to select an org, app and dev store
 *  - The new selection will be saved as global configuration
 *  - The `shopify.app.toml` file will be updated with the new app apiKey
 *
 * @param options {DevEnvironmentInput} Current dev environment options
 * @returns {Promise<DevEnvironmentOutput>} The selected org, app and dev store
 */
export declare function ensureDevEnvironment(options: DevEnvironmentOptions, token: string): Promise<DevEnvironmentOutput>;
export interface DeployEnvironmentOptions {
    app: App;
    reset: boolean;
}
interface DeployEnvironmentOutput {
    app: App;
    token: string;
    partnersOrganizationId: string;
    partnersApp: Omit<OrganizationApp, 'apiSecretKeys' | 'apiKey'>;
    identifiers: Identifiers;
}
export declare function ensureDeployEnvironment(options: DeployEnvironmentOptions): Promise<DeployEnvironmentOutput>;
export declare function fetchOrganizationAndFetchOrCreateApp(app: App, token: string): Promise<{
    partnersApp: OrganizationApp;
    orgId: string;
}>;
export {};
