{"version":3,"file":"constants.js","sourceRoot":"","sources":["../../src/cli/constants.ts"],"names":[],"mappings":"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","sourcesContent":["import {dependency} from '@shopify/cli-kit'\n\nexport const configurationFileNames = {\n  app: 'shopify.app.toml',\n  extension: {\n    ui: 'shopify.ui.extension.toml',\n    theme: 'shopify.theme.extension.toml',\n    function: 'shopify.function.extension.toml',\n  },\n  web: 'shopify.web.toml',\n} as const\n\nexport const dotEnvFileNames = {\n  production: '.env',\n}\n\nexport const environmentVariables = {\n  /**\n   * Environment variable to instructs the CLI on running the extensions' CLI through its sources.\n   */\n  useExtensionsCLISources: 'SHOPIFY_USE_EXTENSIONS_CLI_SOURCES',\n} as const\n\nexport const versions = {\n  extensionsBinary: 'v0.20.2',\n  react: '^17.0.0',\n} as const\n\nexport const blocks = {\n  extensions: {\n    directoryName: 'extensions',\n    configurationName: configurationFileNames.extension,\n  },\n  functions: {\n    defaultUrl: 'https://github.com/Shopify/function-examples',\n    defaultLanguage: 'wasm',\n    maxCompilationStatusCheckCount: 7,\n    compilationStatusWaitMs: 2000,\n  },\n  web: {\n    directoryName: 'web',\n    configurationName: configurationFileNames.web,\n  },\n} as const\n\n/**\n * List of extensions for each category that are limited by quantity, only 1 of each is allowed per app\n */\nexport const limitedExtensions: {\n  ui: UIExtensionTypes[]\n  theme: ThemeExtensionTypes[]\n  function: FunctionExtensionTypes[]\n} = {\n  ui: ['product_subscription', 'checkout_post_purchase', 'web_pixel_extension'],\n  theme: ['theme'],\n  function: [],\n}\n\nexport const publicFunctionExtensions = {\n  types: ['product_discounts', 'order_discounts', 'shipping_discounts'],\n} as const\nexport const functionExtensions = {\n  types: [...publicFunctionExtensions.types, 'payment_methods', 'shipping_rate_presenter'],\n} as const\n\nexport const functionExtensionTemplates = [\n  {name: 'Wasm', value: 'wasm'},\n  {name: 'Rust', value: 'rust'},\n]\n\nexport function isFunctionExtensionType(extensionType: string) {\n  return (functionExtensions.types as ReadonlyArray<string>).includes(extensionType)\n}\n\nexport const publicUIExtensions = {\n  types: ['product_subscription', 'checkout_ui_extension', 'checkout_post_purchase', 'web_pixel_extension'],\n} as const\n\nexport const uiExtensions = {\n  types: [...publicUIExtensions.types, 'pos_ui_extension'],\n} as const\n\nexport const activeUIExtensions = {\n  types: [...publicUIExtensions.types, 'pos_ui_extension'].filter,\n}\n\nexport type UIExtensionTypes = typeof uiExtensions.types[number]\n\nexport const uiExtensionTemplates = [\n  {name: 'React', value: 'react'},\n  {name: 'vanilla JavaScript', value: 'vanilla-js'},\n]\n\nexport function isUiExtensionType(extensionType: string) {\n  return (uiExtensions.types as ReadonlyArray<string>).includes(extensionType)\n}\n\nexport const themeExtensions = {\n  types: ['theme'],\n} as const\n\nexport type ThemeExtensionTypes = typeof themeExtensions.types[number]\n\nexport function isThemeExtensionType(extensionType: string) {\n  return (themeExtensions.types as ReadonlyArray<string>).includes(extensionType)\n}\n\nexport type FunctionExtensionTypes = typeof functionExtensions.types[number]\n\nexport const extensions = {\n  types: [...themeExtensions.types, ...uiExtensions.types, ...functionExtensions.types],\n  publicTypes: [...themeExtensions.types, ...publicUIExtensions.types, ...publicFunctionExtensions.types],\n}\n\nexport type ExtensionTypes = typeof extensions.types[number]\n\nexport function extensionTypeCategory(extensionType: ExtensionTypes): 'theme' | 'function' | 'ui' {\n  if (extensionType === 'theme') {\n    return 'theme'\n  }\n  if ((functionExtensions.types as ReadonlyArray<string>).includes(extensionType)) {\n    return 'function'\n  }\n  return 'ui'\n}\n\n/**\n * Given a extension type, it returns the extension point name that's necessary\n * when interacting when the API.\n * @param type {FunctionExtensionTypes} Function extension type.\n * @returns {string} Extension point name.\n */\nexport const getFunctionExtensionPointName = (type: FunctionExtensionTypes) => {\n  switch (type) {\n    case 'product_discounts':\n      return 'PRODUCT_DISCOUNTS'\n    case 'order_discounts':\n      return 'ORDER_DISCOUNTS'\n    case 'shipping_discounts':\n      return 'SHIPPING_DISCOUNTS'\n    case 'payment_methods':\n      return 'PAYMENT_METHODS'\n    case 'shipping_rate_presenter':\n      return 'SHIPPING_METHODS'\n  }\n}\n\n/**\n * Returns the runtime renderer dependency for a given UI extension type.\n * @param extensionType {UIExtensionTypes} Extension type.\n * @returns The renderer dependency that should be present in the app's package.json\n */\nexport function getUIExtensionRendererDependency(\n  extensionType: UIExtensionTypes,\n): dependency.DependencyVersion | undefined {\n  switch (extensionType) {\n    case 'product_subscription':\n      return {name: '@shopify/admin-ui-extensions-react', version: '^1.0.1'}\n    case 'checkout_ui_extension':\n      return {name: '@shopify/checkout-ui-extensions-react', version: '^0.17.0'}\n    case 'checkout_post_purchase':\n      return {name: '@shopify/post-purchase-ui-extensions-react', version: '^0.13.2'}\n    case 'pos_ui_extension':\n      return {name: '@shopify/retail-ui-extensions-react', version: '^0.1.0'}\n    case 'web_pixel_extension':\n      return {name: '@shopify/web-pixels-extension', version: '^0.1.1'}\n  }\n}\n\nexport const extensionTypesHumanKeys = {\n  types: [\n    'web pixel',\n    'post-purchase UI',\n    'theme app extension',\n    'checkout UI',\n    'POS UI',\n    'subscription UI',\n    'product discount',\n    'order discount',\n    'shipping discount',\n    'payment customization',\n    'delivery option presenter',\n  ],\n} as const\n\nexport type ExtensionTypesHumanKeys = typeof extensionTypesHumanKeys.types[number]\nexport interface ExtensionOutputConfig {\n  humanKey: ExtensionTypesHumanKeys\n  helpURL?: string\n  additionalHelp?: string\n}\n\nexport function getExtensionOutputConfig(extensionType: ExtensionTypes): ExtensionOutputConfig {\n  switch (extensionType) {\n    case 'web_pixel_extension':\n      return buildExtensionOutputConfig('web pixel')\n    case 'checkout_post_purchase':\n      return buildExtensionOutputConfig('post-purchase UI', 'https://shopify.dev/apps/checkout/post-purchase')\n    case 'theme':\n      return buildExtensionOutputConfig('theme app extension')\n    case 'checkout_ui_extension':\n      return buildExtensionOutputConfig('checkout UI')\n    case 'product_subscription':\n      return buildExtensionOutputConfig('subscription UI')\n    case 'pos_ui_extension':\n      return buildExtensionOutputConfig('POS UI')\n    case 'product_discounts':\n      return buildExtensionOutputConfig('product discount', 'https://shopify.dev/apps/subscriptions/discounts')\n    case 'order_discounts':\n      return buildExtensionOutputConfig('order discount', 'https://shopify.dev/apps/subscriptions/discounts')\n    case 'shipping_discounts':\n      return buildExtensionOutputConfig('shipping discount', 'https://shopify.dev/apps/subscriptions/discounts')\n    case 'payment_methods':\n      return buildExtensionOutputConfig('payment customization')\n    case 'shipping_rate_presenter':\n      return buildExtensionOutputConfig('delivery option presenter')\n  }\n}\n\nexport function getExtensionTypeFromHumanKey(humanKey: ExtensionTypesHumanKeys): ExtensionTypes {\n  switch (humanKey) {\n    case 'checkout UI':\n      return 'checkout_ui_extension'\n    case 'order discount':\n      return 'product_discounts'\n    case 'product discount':\n      return 'product_discounts'\n    case 'shipping discount':\n      return 'shipping_discounts'\n    case 'payment customization':\n      return 'payment_methods'\n    case 'post-purchase UI':\n      return 'checkout_post_purchase'\n    case 'subscription UI':\n      return 'product_subscription'\n    case 'POS UI':\n      return 'pos_ui_extension'\n    case 'delivery option presenter':\n      return 'shipping_rate_presenter'\n    case 'theme app extension':\n      return 'theme'\n    case 'web pixel':\n      return 'web_pixel_extension'\n  }\n}\n\nfunction buildExtensionOutputConfig(humanKey: ExtensionTypesHumanKeys, helpURL?: string, additionalHelp?: string) {\n  return {\n    humanKey,\n    helpURL,\n    additionalHelp,\n  }\n}\n"]}